{
  "$defs": {
    "ApoloAuth": {
      "properties": {
        "type": {
          "const": "apolo_auth",
          "default": "apolo_auth",
          "description": "Authentication type identifier",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "ApoloAuth",
      "type": "object",
      "x-description": "Use Apolo platform's built-in authentication and authorization. Requires authenticated user credentials with appropriate permissions.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Apolo Platform Authentication",
      "x-type": "ApoloAuth"
    },
    "ApoloFilesMount": {
      "properties": {
        "storage_uri": {
          "$ref": "#/$defs/ApoloFilesPath"
        },
        "mount_path": {
          "$ref": "#/$defs/MountPath"
        },
        "mode": {
          "$ref": "#/$defs/ApoloMountMode",
          "default": {
            "mode": "rw",
            "__type__": "ApoloMountMode"
          }
        }
      },
      "required": [
        "storage_uri",
        "mount_path"
      ],
      "title": "ApoloFilesMount",
      "type": "object",
      "x-description": "Configure Apolo Files mount within the application workloads.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Apolo Files Mount",
      "x-type": "ApoloFilesMount"
    },
    "ApoloFilesPath": {
      "properties": {
        "path": {
          "title": "Path",
          "type": "string",
          "x-description": "Provide the Apolo Storage path starting with `storage:` to locate your files.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Storage Path"
        }
      },
      "required": [
        "path"
      ],
      "title": "ApoloFilesPath",
      "type": "object",
      "x-description": "Specify the path within the Apolo Files application to read from or write to.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Apolo Files Path",
      "x-type": "ApoloFilesFile"
    },
    "ApoloMountMode": {
      "properties": {
        "mode": {
          "$ref": "#/$defs/ApoloMountModes",
          "default": "rw",
          "x-description": "Select the access mode for the mount, such as read-only or read-write.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Mount Mode"
        }
      },
      "title": "ApoloMountMode",
      "type": "object",
      "x-description": "Configure how Apolo Files should be mounted into the application\u2019s workload environment.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Apolo Files Mount",
      "x-type": "ApoloMountMode"
    },
    "ApoloMountModes": {
      "enum": [
        "r",
        "rw"
      ],
      "title": "ApoloMountModes",
      "type": "string"
    },
    "ApoloSecret": {
      "properties": {
        "key": {
          "title": "Key",
          "type": "string"
        }
      },
      "required": [
        "key"
      ],
      "title": "ApoloSecret",
      "type": "object",
      "x-description": "Apolo Secret Configuration.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Secret",
      "x-type": "ApoloSecret"
    },
    "AuthIngressMiddleware": {
      "properties": {
        "name": {
          "pattern": "^platform",
          "title": "Name",
          "type": "string",
          "x-description": "Name of the authentication middleware (with namespace) to apply to ingress traffic.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Middleware Name"
        }
      },
      "required": [
        "name"
      ],
      "title": "AuthIngressMiddleware",
      "type": "object",
      "x-description": "Configure authentication middleware for ingress traffic.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "integration",
      "x-title": "Authentication Ingress Middleware",
      "x-type": "AuthIngressMiddleware"
    },
    "BasicNetworkingConfig": {
      "description": "Common networking configuration for applications.",
      "properties": {
        "ingress_http": {
          "$ref": "#/$defs/IngressHttp",
          "x-description": "Configure HTTP ingress and authentication settings.",
          "x-title": "HTTP Ingress"
        }
      },
      "title": "BasicNetworkingConfig",
      "type": "object",
      "x-description": "Configure network access and authentication settings.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Networking Settings",
      "x-type": "BasicNetworkingConfig"
    },
    "Container": {
      "properties": {
        "command": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Command",
          "x-description": "Override the container's default entrypoint by specifying a custom command.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Container Command"
        },
        "args": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Args",
          "x-description": "Provide arguments to pass to the container's entrypoint or command.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Container Arguments"
        },
        "env": {
          "items": {
            "$ref": "#/$defs/Env"
          },
          "title": "Env",
          "type": "array",
          "x-description": "Define environment variables to inject into the container.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Environment Variables"
        }
      },
      "title": "Container",
      "type": "object",
      "x-description": "Define command, arguments, and environment variables for the Kubernetes container.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Container Configuration",
      "x-type": "Container"
    },
    "ContainerImage": {
      "properties": {
        "repository": {
          "title": "Repository",
          "type": "string",
          "x-description": "Choose a repository for the container image.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Container Image Repository"
        },
        "tag": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Tag",
          "x-description": "Choose a tag for the container image.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Container Image Tag"
        },
        "dockerconfigjson": {
          "anyOf": [
            {
              "$ref": "#/$defs/DockerConfigModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "ImagePullSecrets for DockerHub",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "integration",
          "x-title": "ImagePullSecrets for DockerHub"
        },
        "pull_policy": {
          "$ref": "#/$defs/ContainerImagePullPolicy",
          "default": "IfNotPresent",
          "x-description": "Specify the pull policy for the container image.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Container Image Pull Policy"
        }
      },
      "required": [
        "repository"
      ],
      "title": "ContainerImage",
      "type": "object",
      "x-description": "Container image to be used in application",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Container Image",
      "x-type": "ContainerImage"
    },
    "ContainerImagePullPolicy": {
      "enum": [
        "Always",
        "Never",
        "IfNotPresent"
      ],
      "title": "ContainerImagePullPolicy",
      "type": "string"
    },
    "CustomAuth": {
      "properties": {
        "type": {
          "const": "custom_auth",
          "default": "custom_auth",
          "description": "Authentication type identifier",
          "title": "Type",
          "type": "string"
        },
        "middleware": {
          "$ref": "#/$defs/AuthIngressMiddleware",
          "x-description": "Custom authentication middleware configuration.",
          "x-title": "Authentication Middleware"
        }
      },
      "required": [
        "middleware"
      ],
      "title": "CustomAuth",
      "type": "object",
      "x-description": "Use a custom authentication middleware for this ingress. Allows integration with custom authentication providers.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Custom Authentication",
      "x-type": "CustomAuth"
    },
    "CustomImage": {
      "properties": {
        "container_image": {
          "$ref": "#/$defs/ContainerImage",
          "x-description": "Custom container image for the Jupyter application.",
          "x-title": "Custom Container Image"
        },
        "container_config": {
          "$ref": "#/$defs/Container",
          "x-description": "Configuration for the Jupyter container."
        }
      },
      "required": [
        "container_image",
        "container_config"
      ],
      "title": "CustomImage",
      "type": "object",
      "x-description": "Custom container image for the Jupyter application.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Custom Container Image",
      "x-type": "CustomImage"
    },
    "DefaultContainer": {
      "properties": {
        "container_image": {
          "$ref": "#/$defs/JupyterImage"
        }
      },
      "required": [
        "container_image"
      ],
      "title": "DefaultContainer",
      "type": "object",
      "x-description": "Container image to use for Jupyter application.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Container Image",
      "x-type": "DefaultContainer"
    },
    "DockerConfigModel": {
      "properties": {
        "filecontents": {
          "title": "Filecontents",
          "type": "string",
          "x-description": "The contents of the Docker config file.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Docker Config File Contents"
        }
      },
      "required": [
        "filecontents"
      ],
      "title": "DockerConfigModel",
      "type": "object",
      "x-description": "Docker configuration content.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "integration",
      "x-title": "Docker Config",
      "x-type": "DockerConfigModel"
    },
    "Env": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string",
          "x-description": "Specify the name of the environment variable to inject into the container.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Variable Name"
        },
        "value": {
          "anyOf": [
            {
              "type": "string",
              "x-description": "Specify the value of the environment variable.",
              "x-is-advanced-field": false,
              "x-is-configurable": true,
              "x-meta-type": "inline",
              "x-title": "String variable Value"
            },
            {
              "$ref": "#/$defs/ApoloSecret"
            }
          ],
          "default": "",
          "title": "Value",
          "x-description": "Specify the value of the environment variable.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Variable Value"
        }
      },
      "required": [
        "name"
      ],
      "title": "Env",
      "type": "object",
      "x-description": "K8S container env var.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Env",
      "x-type": "Env"
    },
    "IngressHttp": {
      "properties": {
        "auth": {
          "anyOf": [
            {
              "$ref": "#/$defs/ApoloAuth"
            },
            {
              "$ref": "#/$defs/NoAuth"
            },
            {
              "$ref": "#/$defs/CustomAuth"
            }
          ],
          "title": "Auth",
          "x-description": "Configure authentication for this ingress. Choose Apolo platform authentication, custom middleware, or no authentication.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Authentication"
        }
      },
      "title": "IngressHttp",
      "type": "object",
      "x-description": "Enable access to your application over the internet using HTTPS.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Enable HTTP Ingress",
      "x-type": "IngressHttp"
    },
    "JupyterImage": {
      "enum": [
        "ghcr.io/neuro-inc/base:v25.3.0-runtime"
      ],
      "title": "JupyterImage",
      "type": "string"
    },
    "JupyterSpecificAppInputs": {
      "properties": {
        "container_settings": {
          "anyOf": [
            {
              "$ref": "#/$defs/DefaultContainer"
            },
            {
              "$ref": "#/$defs/CustomImage"
            }
          ],
          "default": {
            "container_image": "ghcr.io/neuro-inc/base:v25.3.0-runtime",
            "__type__": "DefaultContainer"
          },
          "title": "Container Settings",
          "x-description": "Settings for the Jupyter container, including image and configuration.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Container Settings"
        },
        "override_code_storage_mount": {
          "anyOf": [
            {
              "$ref": "#/$defs/ApoloFilesMount"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "Override Apolo Files mount within the application workloads. If not set, Apolo will automatically mount \"storage:.apps/jupyter/jupyter-app/code\" to \"/root/notebooks\".",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Override Default Storage Mount"
        }
      },
      "title": "JupyterSpecificAppInputs",
      "type": "object",
      "x-description": "Configure the Jupyter App.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Jupyter App",
      "x-type": "JupyterSpecificAppInputs"
    },
    "MLFlowTrackingServerURL": {
      "properties": {
        "internal_url": {
          "anyOf": [
            {
              "$ref": "#/$defs/RestAPI"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "Internal URL to access the service. This route is not protected by platform authorization and only workloads from the same project can access it.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Internal URL"
        },
        "external_url": {
          "anyOf": [
            {
              "$ref": "#/$defs/RestAPI"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "x-description": "External URL for accessing the service from outside the cluster. This route might be secured by platform authorization and is accessible from any network with a valid platform authorization token that has appropriate permissions.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "External URL"
        }
      },
      "title": "MLFlowTrackingServerURL",
      "type": "object",
      "x-description": "The URL to access the MLFlow server.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "integration",
      "x-title": "MLFlow Server URL",
      "x-type": "MLFlowTrackingServerURL"
    },
    "MountPath": {
      "properties": {
        "path": {
          "title": "Path",
          "type": "string",
          "x-description": "Specify the absolute path inside the container where the volume should be mounted.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Path"
        }
      },
      "required": [
        "path"
      ],
      "title": "MountPath",
      "type": "object",
      "x-description": "Specify the absolute path.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Mount Path",
      "x-type": "MountPath"
    },
    "NoAuth": {
      "properties": {
        "type": {
          "const": "no_auth",
          "default": "no_auth",
          "description": "Authentication type identifier",
          "title": "Type",
          "type": "string"
        }
      },
      "title": "NoAuth",
      "type": "object",
      "x-description": "Disable authentication for this ingress. The application will be publicly accessible without any authentication.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "No Authentication",
      "x-type": "NoAuth"
    },
    "Preset": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string",
          "x-description": "The name of the preset.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Resource Preset"
        }
      },
      "required": [
        "name"
      ],
      "title": "Preset",
      "type": "object",
      "x-description": "Select the resource preset used per service replica.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Resource Preset",
      "x-type": "Preset"
    },
    "RestAPI": {
      "properties": {
        "host": {
          "title": "Host",
          "type": "string",
          "x-description": "The hostname of the HTTP endpoint.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Hostname"
        },
        "port": {
          "default": 80,
          "exclusiveMinimum": 0,
          "title": "Port",
          "type": "integer",
          "x-description": "The port of the HTTP endpoint.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Port"
        },
        "protocol": {
          "default": "http",
          "title": "Protocol",
          "type": "string",
          "x-description": "The protocol to use, e.g., http or https.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Protocol"
        },
        "timeout": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": 30.0,
          "title": "Timeout",
          "x-description": "Connection timeout in seconds.",
          "x-is-advanced-field": false,
          "x-is-configurable": true,
          "x-meta-type": "inline",
          "x-title": "Connection Timeout"
        },
        "base_path": {
          "default": "/",
          "title": "Base Path",
          "type": "string"
        },
        "api_type": {
          "const": "rest",
          "default": "rest",
          "title": "Api Type",
          "type": "string"
        }
      },
      "required": [
        "host"
      ],
      "title": "RestAPI",
      "type": "object",
      "x-description": "HTTP API Configuration.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "HTTP API",
      "x-type": "OpenAICompatibleEmbeddingsRestAPI"
    },
    "StorageMounts": {
      "properties": {
        "mounts": {
          "description": "List of ApoloStorageMount objects to mount external storage paths",
          "items": {
            "$ref": "#/$defs/ApoloFilesMount"
          },
          "title": "Mounts",
          "type": "array"
        }
      },
      "title": "StorageMounts",
      "type": "object",
      "x-description": "Mount external storage paths",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Storage Mounts",
      "x-type": "StorageMounts"
    }
  },
  "properties": {
    "preset": {
      "$ref": "#/$defs/Preset"
    },
    "jupyter_specific": {
      "$ref": "#/$defs/JupyterSpecificAppInputs"
    },
    "extra_storage_mounts": {
      "anyOf": [
        {
          "$ref": "#/$defs/StorageMounts"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "x-description": "Attach additional storage volumes to the Jupyter application.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "inline",
      "x-title": "Extra Storage Mounts"
    },
    "networking": {
      "$ref": "#/$defs/BasicNetworkingConfig",
      "x-description": "Configure network access, HTTP authentication, and related connectivity options."
    },
    "mlflow_integration": {
      "anyOf": [
        {
          "$ref": "#/$defs/MLFlowTrackingServerURL"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "x-description": "Enable integration with MLFlow for experiment tracking and model management.",
      "x-is-advanced-field": false,
      "x-is-configurable": true,
      "x-meta-type": "integration",
      "x-title": "MLFlow Integration"
    }
  },
  "required": [
    "preset",
    "jupyter_specific"
  ],
  "title": "JupyterAppInputs",
  "type": "object"
}
